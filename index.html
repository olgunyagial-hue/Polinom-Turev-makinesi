<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { background: #020617; color: #38bdf8; font-family: sans-serif; margin: 0; padding: 10px; display: flex; justify-content: center; }
        .card { background: #0f172a; padding: 15px; border-radius: 15px; border: 1px solid #1e293b; width: 100%; max-width: 400px; text-align: center; }
        input { background: #1e293b; border: 1px solid #38bdf8; color: #fbbf24; border-radius: 8px; text-align: center; outline: none; font-size: 16px; }
        .setup-input { width: 60px; height: 40px; font-size: 1.2rem; margin-bottom: 15px; }
        
        /* MOBÄ°L IZGARA: Yan yana 2 kutu sÄ±ÄŸacak ÅŸekilde */
        .poly-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin: 15px 0; }
        .box-inline { background: rgba(56,189,248,0.05); padding: 10px; border-radius: 10px; border: 1px solid #1e293b; display: flex; flex-direction: column; align-items: center; }
        
        .coeff { width: 80%; height: 30px; font-size: 0.9rem; margin-bottom: 5px; }
        #liveP, #res { word-wrap: break-word; font-weight: bold; margin: 10px 0; }
        #liveP { color: white; font-size: 1.1rem; }
        #res { color: #4ade80; font-size: 1.3rem; border-top: 1px solid #1e293b; padding-top: 10px; }
        .btn { background: #38bdf8; color: #020617; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; margin-top: 10px; width: 100%; }
        h2 { font-size: 1.2rem; margin: 10px 0; }
        p { font-size: 0.9rem; }
    </style>
</head>
<body>
    <div class="card">
        <div id="step1">
            <h2>TÃ¼revmatik Mobil ðŸ“±</h2>
            <p>Polinom derecesini gir dostum:</p>
            <input type="number" id="deg" class="setup-input" oninput="baslat()">
        </div>
        <div id="step2" style="display:none">
            <div id="inputs" class="poly-grid"></div>
            <div id="liveP"></div>
            <div id="res"></div>
            <button class="btn" onclick="location.reload()">BaÅŸa DÃ¶n ðŸ‘‹</button>
        </div>
    </div>

    <script>
        function baslat() {
            const d = parseInt(document.getElementById('deg').value);
            if(isNaN(d) || d < 0) return;
            document.getElementById('step1').style.display = 'none';
            document.getElementById('step2').style.display = 'block';
            let html = '';
            for(let i = d; i >= 0; i--) {
                let label = i === 0 ? "Sabit" : "x^" + i;
                html += `<div class="box-inline">
                    <input type="number" id="v${i}" class="coeff" placeholder="${label}" oninput="hesapla()">
                    <span style="font-size:0.8rem; color:#94a3b8">${i>0 ? (i===1 ? 'x' : 'x<sup>'+i+'</sup>') : 'Sabit'}</span>
                </div>`;
            }
            document.getElementById('inputs').innerHTML = html;
        }

        function hesapla() {
            const d = parseInt(document.getElementById('deg').value);
            let p = []; let dt = [];
            for(let i = d; i >= 0; i--) {
                let v = parseFloat(document.getElementById('v'+i).value);
                if(!isNaN(v) && v !== 0) {
                    let term = i==0 ? v : (i==1 ? v+'x' : v+'x<sup>'+i+'</sup>');
                    p.push(term);
                    if(i>0) {
                        let nv = v*i; let nn = i-1;
                        let dTerm = nn==0 ? nv : (nn==1 ? nv+'x' : nv+'x<sup>'+nn+'</sup>');
                        dt.push(dTerm);
                    }
                }
            }
            document.getElementById('liveP').innerHTML = p.length ? "P(x) = " + p.join(' + ').replace(/\+ -/g, '- ') : "";
            document.getElementById('res').innerHTML = dt.length ? "P'(x) = " + dt.join(' + ').replace(/\+ -/g, '- ') : (p.length ? "P'(x) = 0" : "");
        }
    </script>
</body>
</html>
